<ws-widget-btn-page-back
[widgetData]="{ url: 'home', titles: titles  }">
</ws-widget-btn-page-back>

<div class="gyann-wrapper">
    <div class="flex ">
        <div class="container-balanced w-full">
            <div class="block md:hidden">
                <div class="flex items-center justify-between search-block m-2 md:mb-0 md:mt-16">
                    <input type="text" (keydown.enter)="globalSearch()" placeholder="{{'gyaanKarmayogi.placeholder' | translate}}" [formControl]="searchControl"  class="flex-1">
                    <mat-icon (click)="openBottomSheet()" class="">filter_list</mat-icon>
                </div>
            </div>
            <div class="grid grid-cols-12 gap-4">
                <div class="col-span-12 md:col-span-9">
                    <div class="flex flex-row flex-wrap justify-center md:justify-start content-container" >
                        <ng-container *ngIf="contentDataList.length;else noData">
                            <div class="flex flex-row flex-wrap justify-center md:justify-start content-container" infinite-scroll [infiniteScrollDistance]="scrollDistance"
                            [infiniteScrollThrottle]="throttle" (scrolled)="onScrollEnd()">
                                <div class="mr-2 mb-5" *ngFor="let c of contentDataList">
                                    <ws-widget-card-content-v2 [widgetData]="c?.widgetData"> </ws-widget-card-content-v2>
                                </div>
                            </div>
                        </ng-container>
                        <ng-template #noData>
                            <div class="flex justify-center w-full">
                                <div class="margin-xl text-center" >
                                    <img src="/assets/common/error-pages/empty_search.svg" wsUtilsImageResponsive alt="No results"
                                        class="margin-top-l margin-bottom-s">
                                    <h2 class="mat-h2" i18n="search route no result">{{'learnsearch.noResults' | translate}}</h2>
                                    <h3 class="mat-h3" i18n="search route you may try">{{'learnsearch.removeFilters' | translate}}</h3>
                                </div>
                            </div>
                        </ng-template>
                    </div>
                </div>

                <div class="col-span-3 hidden md:block">
                    <ng-container *ngIf="filterDataLoading">
                        <div class="filter-skeleton">
                            <ng-container [ngTemplateOutlet]="skeletonLoader"></ng-container>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="!filterDataLoading">
                        <ws-app-gyaan-filter (filterChange)="filterChange($event)" [filterDataLoading]="filterDataLoading" [facetsDataCopy]="facetsDataCopy"  [facetsData]="facetsData"></ws-app-gyaan-filter>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #skeletonLoader>
    <div class="mb-4">
        <ws-widget-skeleton-loader [width]="'60px'" [height]="'16px'" [bindingClass]="'flex rounded mb-2'"></ws-widget-skeleton-loader>
        <ws-widget-skeleton-loader [width]="'100%'" [height]="'48px'" [bindingClass]="'flex rounded mb-2'"></ws-widget-skeleton-loader>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
    </div>
    <div class="mb-4">
        <ws-widget-skeleton-loader [width]="'60px'" [height]="'16px'" [bindingClass]="'flex rounded mb-2'"></ws-widget-skeleton-loader>
        <ws-widget-skeleton-loader [width]="'100%'" [height]="'48px'" [bindingClass]="'flex rounded mb-2'"></ws-widget-skeleton-loader>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
    </div>
    <div class="mb-4">
        <ws-widget-skeleton-loader [width]="'60px'" [height]="'16px'" [bindingClass]="'flex rounded mb-2'"></ws-widget-skeleton-loader>
        <ws-widget-skeleton-loader [width]="'100%'" [height]="'48px'" [bindingClass]="'flex rounded mb-2'"></ws-widget-skeleton-loader>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
        <div class="flex w-full">
            <ws-widget-skeleton-loader [width]="'16px'" [height]="'16px'" [bindingClass]="'mb-2 mr-2'"></ws-widget-skeleton-loader>
            <ws-widget-skeleton-loader [width]="'120px'" [height]="'16px'" [bindingClass]="'mb-2'"></ws-widget-skeleton-loader>
        </div>
    </div>
</ng-template>